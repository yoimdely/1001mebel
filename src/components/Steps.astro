---
interface Props {
  steps: {
    title: string;
    desc: string;
  }[];
}

const { steps = [] } = Astro.props;
---

<div class="relative">
  {/* Mobile: Horizontal Scroll */}
  <div class="flex md:hidden overflow-x-auto gap-6 pb-8 snap-x snap-mandatory scrollbar-hide">
    {steps.map((step, index) => (
      <div class="min-w-[280px] snap-center bg-white/5 p-6 rounded-sm border border-white/10 flex flex-col gap-4">
        <span class="text-4xl font-serif text-white/20">{(index + 1).toString().padStart(2, '0')}</span>
        <h3 class="text-xl text-white font-serif">{step.title}</h3>
        <p class="text-zinc-400 text-sm leading-relaxed">{step.desc}</p>
      </div>
    ))}
  </div>

  {/* Desktop: Vertical Timeline / Grid */}
  <div class="hidden md:grid grid-cols-1 gap-12 relative">
    {/* Central Line */}
    <div class="absolute left-[19px] top-4 bottom-4 w-[1px] bg-gradient-to-b from-accent via-white/10 to-transparent"></div>

    {steps.map((step, index) => (
      <div class="relative pl-16 group">
        {/* Dot on line */}
        <div class="absolute left-0 top-2 w-10 h-10 bg-zinc-900 border border-white/20 rounded-full flex items-center justify-center z-10 group-hover:border-accent group-hover:scale-110 transition-all duration-300">
           <div class="w-2 h-2 bg-accent rounded-full opacity-50 group-hover:opacity-100 transition-opacity"></div>
        </div>

        <div class="grid grid-cols-12 gap-8 items-baseline border-b border-white/5 pb-12 group-hover:border-white/10 transition-colors">
          <div class="col-span-4">
             <span class="block text-xs font-bold text-zinc-600 mb-2 uppercase tracking-widest">Шаг {(index + 1).toString().padStart(2, '0')}</span>
             <h3 class="text-2xl lg:text-3xl text-white font-serif group-hover:text-accent transition-colors duration-300">{step.title}</h3>
          </div>
          <div class="col-span-8">
             <p class="text-lg text-zinc-400 font-light leading-relaxed group-hover:text-zinc-300 transition-colors">
               {step.desc}
             </p>
          </div>
        </div>
      </div>
    ))}
  </div>
</div>

<style>
  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
      display: none;
  }
  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
  }
</style>
